# 扩容状态为“正在使用”的云硬盘<a name="ZH-CN_TOPIC_0077678449"></a>

## 操作场景<a name="section4199781203421"></a>

当前EVS扩容功能支持扩大云硬盘容量，不支持缩小云硬盘容量。

扩容状态为“正在使用”的云硬盘，即当前需要扩容的云硬盘已经挂载给云服务器。

-   对状态为“正在使用”的云硬盘进行扩容时，云硬盘所挂载的云服务器状态必须为“运行中”或者“关机”才支持扩容。
-   共享云硬盘必须在“可用”状态下进行扩容，扩容方法请参见[扩容状态为“可用”的云硬盘](扩容状态为-可用-的云硬盘.md)。
-   扩容状态为“正在使用”的云硬盘时，对云硬盘所挂载的云服务器操作系统有要求，当前支持的云服务器操作系统如[表1](#table53157090141716)所示，包含“公共镜像”中操作系统以及表格中的其他操作系统。

    若云服务器操作系统不满足要求，则需要先卸载云硬盘再执行扩容操作，否则扩容后可能需要将云服务器关机再开机，磁盘容量才会变大。

    **表 1**  操作系统

    <a name="table53157090141716"></a>
    <table><thead align="left"><tr id="row45496632141716"><th class="cellrowborder" valign="top" width="45.89%" id="mcps1.2.3.1.1"><p id="p61348555141716"><a name="p61348555141716"></a><a name="p61348555141716"></a>操作系统</p>
    </th>
    <th class="cellrowborder" valign="top" width="54.11%" id="mcps1.2.3.1.2"><p id="p3177030141716"><a name="p3177030141716"></a><a name="p3177030141716"></a>版本</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row11188115275214"><td class="cellrowborder" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p18784916162415"><a name="p18784916162415"></a><a name="p18784916162415"></a>请参见“公共镜像”中的操作系统。</p>
    <div class="note" id="note56118501378"><a name="note56118501378"></a><a name="note56118501378"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p161210505714"><a name="p161210505714"></a><a name="p161210505714"></a>查看方法：登录管理控制台，选择“镜像服务 &gt; 公共镜像  &gt; ECS 系统盘镜像”，即可查看操作系统列表。</p>
    </div></div>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p1198234182118"><a name="p1198234182118"></a><a name="p1198234182118"></a>-</p>
    </td>
    </tr>
    <tr id="row3353113994713"><td class="cellrowborder" rowspan="6" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p40749590141716"><a name="p40749590141716"></a><a name="p40749590141716"></a>CentOS</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p635420393471"><a name="p635420393471"></a><a name="p635420393471"></a>7.4 64bit</p>
    </td>
    </tr>
    <tr id="row56012882141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p12382523141716"><a name="p12382523141716"></a><a name="p12382523141716"></a>7.3 64bit</p>
    </td>
    </tr>
    <tr id="row44333849141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p34272050141716"><a name="p34272050141716"></a><a name="p34272050141716"></a>7.2 64bit</p>
    </td>
    </tr>
    <tr id="row40012999141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p19827453141716"><a name="p19827453141716"></a><a name="p19827453141716"></a>6.8 64bit</p>
    </td>
    </tr>
    <tr id="row44229353141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p25807831141716"><a name="p25807831141716"></a><a name="p25807831141716"></a>6.7 64bit</p>
    </td>
    </tr>
    <tr id="row30943891141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p23427267141716"><a name="p23427267141716"></a><a name="p23427267141716"></a>6.5 64bit</p>
    </td>
    </tr>
    <tr id="row9518817141716"><td class="cellrowborder" rowspan="2" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p32826701141716"><a name="p32826701141716"></a><a name="p32826701141716"></a>Debian</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p41717085141716"><a name="p41717085141716"></a><a name="p41717085141716"></a>8.6.0 64bit</p>
    </td>
    </tr>
    <tr id="row39909446141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p11439688141716"><a name="p11439688141716"></a><a name="p11439688141716"></a>8.5.0 64bit</p>
    </td>
    </tr>
    <tr id="row35848330141716"><td class="cellrowborder" rowspan="2" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p18033656141716"><a name="p18033656141716"></a><a name="p18033656141716"></a>Fedora</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p51440042141716"><a name="p51440042141716"></a><a name="p51440042141716"></a>25 64bit</p>
    </td>
    </tr>
    <tr id="row60307201141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p53045076141716"><a name="p53045076141716"></a><a name="p53045076141716"></a>24 64bit</p>
    </td>
    </tr>
    <tr id="row7643644141716"><td class="cellrowborder" rowspan="4" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p15155436141716"><a name="p15155436141716"></a><a name="p15155436141716"></a>SUSE</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p19630784141716"><a name="p19630784141716"></a><a name="p19630784141716"></a>SUSE Linux Enterprise Server 12 SP2 64bit</p>
    </td>
    </tr>
    <tr id="row42459331141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p16653801141716"><a name="p16653801141716"></a><a name="p16653801141716"></a>SUSE Linux Enterprise Server 12 SP1 64bit</p>
    </td>
    </tr>
    <tr id="row15666486141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p61025831141716"><a name="p61025831141716"></a><a name="p61025831141716"></a>SUSE Linux Enterprise Server 11 SP4 64bit</p>
    </td>
    </tr>
    <tr id="row12361574141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p61763470141716"><a name="p61763470141716"></a><a name="p61763470141716"></a>SUSE Linux Enterprise Server 12 64bit</p>
    </td>
    </tr>
    <tr id="row19000320141716"><td class="cellrowborder" rowspan="2" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p62630967141716"><a name="p62630967141716"></a><a name="p62630967141716"></a>OpenSUSE</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p39943595141716"><a name="p39943595141716"></a><a name="p39943595141716"></a>42.2 64bit</p>
    </td>
    </tr>
    <tr id="row23948039141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p60743008141716"><a name="p60743008141716"></a><a name="p60743008141716"></a>42.1 64bit</p>
    </td>
    </tr>
    <tr id="row9816168141716"><td class="cellrowborder" rowspan="4" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p56912129141716"><a name="p56912129141716"></a><a name="p56912129141716"></a>Oracle Linux Server release</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p46479735141716"><a name="p46479735141716"></a><a name="p46479735141716"></a>7.3 64bit</p>
    </td>
    </tr>
    <tr id="row15664432141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p60859451141716"><a name="p60859451141716"></a><a name="p60859451141716"></a>7.2 64bit</p>
    </td>
    </tr>
    <tr id="row10864151141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p7581075141716"><a name="p7581075141716"></a><a name="p7581075141716"></a>6.8 64bit</p>
    </td>
    </tr>
    <tr id="row1120811141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p23676896141716"><a name="p23676896141716"></a><a name="p23676896141716"></a>6.7 64bit</p>
    </td>
    </tr>
    <tr id="row11765478141716"><td class="cellrowborder" rowspan="3" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p13479695141716"><a name="p13479695141716"></a><a name="p13479695141716"></a>Ubuntu Server</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p18113516141716"><a name="p18113516141716"></a><a name="p18113516141716"></a>16.04 64bit</p>
    </td>
    </tr>
    <tr id="row28803922141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p51416345141716"><a name="p51416345141716"></a><a name="p51416345141716"></a>14.04 64bit</p>
    </td>
    </tr>
    <tr id="row60093924141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p35769679141716"><a name="p35769679141716"></a><a name="p35769679141716"></a>14.04.4 64bit</p>
    </td>
    </tr>
    <tr id="row53491656141716"><td class="cellrowborder" rowspan="3" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p37856897141716"><a name="p37856897141716"></a><a name="p37856897141716"></a>Windows</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p46509786141716"><a name="p46509786141716"></a><a name="p46509786141716"></a>Windows Server 2008 R2 Enterprise 64bit</p>
    </td>
    </tr>
    <tr id="row15934890141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p15657686141716"><a name="p15657686141716"></a><a name="p15657686141716"></a>Windows Server 2012 R2 Standard 64bit</p>
    </td>
    </tr>
    <tr id="row6701453141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p5946807141716"><a name="p5946807141716"></a><a name="p5946807141716"></a>Windows Server 2016 R2 Standard 64bit</p>
    </td>
    </tr>
    <tr id="row53521269141716"><td class="cellrowborder" rowspan="2" valign="top" width="45.89%" headers="mcps1.2.3.1.1 "><p id="p40255543141716"><a name="p40255543141716"></a><a name="p40255543141716"></a>Redhat Linux Enterprise</p>
    </td>
    <td class="cellrowborder" valign="top" width="54.11%" headers="mcps1.2.3.1.2 "><p id="p39473574141716"><a name="p39473574141716"></a><a name="p39473574141716"></a>7.3 64bit</p>
    </td>
    </tr>
    <tr id="row19717849141716"><td class="cellrowborder" valign="top" headers="mcps1.2.3.1.1 "><p id="p53641974141716"><a name="p53641974141716"></a><a name="p53641974141716"></a>6.8 64bit</p>
    </td>
    </tr>
    </tbody>
    </table>


## 操作步骤<a name="section5287890203514"></a>

1.  登录管理控制台。
2.  选择“存储 \> 云硬盘”。

    进入“云硬盘“页面。

3.  扩容云硬盘之前是否要查看云硬盘挂载的云服务器信息。
    -   是，执行以下操作。
        1.  在云硬盘列表中，单击待扩容的云硬盘名称。

            进入云硬盘详情页面。

        2.  在“挂载点”页签下，您可以查看当前云硬盘挂载的云服务器列表。
        3.  单击界面上方的“扩容”按钮。

            进入扩容界面。


    -   否，执行以下操作。
        1.  在云硬盘列表中，选择指定云硬盘所在行“操作”列下的“扩容”。

            进入扩容界面。



4.  根据界面提示，设置“新增容量”参数，设置完成后，单击“立即购买”。
5.  在“详情”页面，您可以再次核对云硬盘信息。

    -   确认无误后，单击“提交”，开始扩容云硬盘。
    -   如果还需要修改，单击“上一步”，修改参数。

    提交完成后，根据界面提示返回“云硬盘”页面。

6.  在“云硬盘”主页面，查看云硬盘扩容结果。

    当云硬盘状态由“正在扩容”变为“正在使用”时，此时容量增加，扩容成功。

7.  扩容成功后，需要对扩容部分的云硬盘进行后续处理。

    不同操作系统的云服务器处理方式不同。

    -   Windows系统，请参见[Windows云硬盘扩容后处理](Windows云硬盘扩容后处理.md)。
    -   Linux系统：
        -   使用fdisk磁盘分区工具，请参见[Linux云硬盘扩容后处理（fdisk）](Linux云硬盘扩容后处理（fdisk）.md)、[Linux SCSI数据盘扩容后处理（fdisk）](Linux-SCSI数据盘扩容后处理（fdisk）.md)、[Linux系统盘扩容后处理（fdisk）](Linux系统盘扩容后处理（fdisk）.md)。
        -   使用parted磁盘分区工具，请参见[Linux云硬盘扩容后处理（parted）](Linux云硬盘扩容后处理（parted）.md)。



